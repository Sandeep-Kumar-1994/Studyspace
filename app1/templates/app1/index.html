<!DOCTYPE html>
<html lang="en">
<head>
  <title>Study Space</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.19/css/dataTables.bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/1.10.19/js/dataTables.bootstrap.min.js"></script>
  <script type="text/javascript">
  $(document).ready(function() {
    $('#studyhall').DataTable();
} );
</script>
</head>
<body>

<div class="container">
  <h2>Study Space</h2>
  <p>This is for study space</p>
  
  <ul class="nav nav-tabs">
    <li><a data-toggle="tab" href="#menu1">Study Hall</a></li>
    <li><a data-toggle="tab" href="#menu2">Enquiry</a></li>
    <li><a data-toggle="tab" href="#menu3">Expense</a></li>
  </ul>

  <div class="tab-content">
    <div id="menu1" class="tab-pane fade">
      <h3>Study Halls</h3>
      <p>this page is for studyhalls</p>
      <div class="row">
        <form method="post">
          {% csrf_token %}
          Hall name:<input type="text" name="hall_name"><br>
          Hall area:<input type="text" name="hall_area"><br>
          <input type="submit" name="" value="Create Hall">
        </form>
      </div>

      <div class="table-responsive">
      <table class="table table-hover">
        <tr><th>NAME</th><th>AREA</th></tr>
      <!-- <p>{{halls}}</p> -->
      {% for hall in studyhalls%}
      <tr>
        <td>{{ hall.name }}</td>
        <td>{{ hall.area }}</td>
      </tr>
      {% endfor %}
      </table>
    </div>
    </div>

    <div id="menu2" class="tab-pane fade">
      <h3>Enquiries</h3>
      <p>This page is for enquiries</p>
      <div class="row">
        <form method="post">
          {% csrf_token %}
          Name:<input type="text" name="enq_name"><br>
          Course:<select name="enq_course">
            {% for cour in courses%}
              <option value="{{ cour_id }}">{{ cour.name}}</option>
            {% endfor %}
          </select>
          Student:<select name="enq_student">
            {% for stu in students%}
              <option value="{{ stu_id }}">{{ stu.name}}</option>
            {% endfor %}
          </select>
          <input type="submit" name="enquiry" value="Create Enquiry">
        </form>
      </div>
      <div class="table-responsive">
      <table id ="studyhall" class="table table-striped table-bordered" style="width:100%">
        <thead>
          <tr><th>NAME</th><th>Course</th><th>Student</th></tr>
        </thead>
        <tbody>
          {% for enq in enquiries%}
          <tr>
            <td>{{ enq.name }}</td>
            <td>{{ enq.course }}</td>
            <td>{{ enq.student }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    </div>
    <div id="menu3" class="tab-pane fade">
      <h3>Expenses</h3>
      <p>This page is for expenses.</p>
      <div>
        <form method="post">
          {% csrf_token %}
          Studyhall:<select name="exp_studyhall">
            {% for hall in studyhalls%}
            <option value="{{ hall_id }}">{{ hall.name }}</option>
            {% endfor %}            
          </select>
          Date:<input type="text" name="exp_date">
          Name:<input type="text" name="exp_name">
          Desc:<input type="text" name="exp_desc">
          Value:<input type="text" name="exp_value">
          <input type="submit" name="expense" value="Create Expense">            
        </form>
      </div>
      <div class="table-responsive">
      <table class="table table-hover">
        <tr><th>NAME</th><th>Date</th><th>Studyhall</th><th>Desc</th></tr>
      {% for exp in expenses%}
      <tr>
        <td>{{ exp.studyhall }}</td>
        <td>{{ exp.date }}</td>
        <td>{{ exp.name }}</td>
        <td>{{ exp.desc }}</td>
        <td>{{ exp.value }}</td>
      </tr>
      {% endfor %}
      </table>
    </div>
    </div>
  </div>
</div>

</body>
</html>
